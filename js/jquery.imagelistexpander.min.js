!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(this,function(a){var b={prefix:"imagelistexpander-"},c=function(c,d){var e=a.extend({},b,d),f=a(c),g=f.find("."+e.prefix+"item"),h=f.find("."+e.prefix+"trigger"),i=f.find("."+e.prefix+"trigger-close"),j=function(){g.each(function(){var b=a(this);b.data("height",b.height())}),h.bind("click",k),i.bind("click",l)},k=function(){var b=a(this).parents("."+e.prefix+"item");b.hasClass("active")?n(b):(m(b),n(b.siblings()))},l=function(){n(g)},m=function(a){var b=a.find("."+e.prefix+"expander-contents"),c=a.find("."+e.prefix+"expander"),d=a.data("height"),f=b.outerHeight();a.addClass("active").css("height",d+f),c.css("max-height",f+50)},n=function(b){b=b.filter(".active");var c=b.find("."+e.prefix+"expander");b.each(function(){var b=a(this);b.css("height",b.data("height"))}),b.removeClass("active"),c.css("max-height",0)};j()};return a.fn.imagelistexpander=function(b){a(this).each(function(){c(this,b||{})})},a});